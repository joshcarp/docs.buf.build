---
id: go
title: Go
---

The Buf Schema Registry provides remote packages for Golang: consume generated
SDKs from modules and plugins using `go get`, just like any other Golang library.

This provides consumers of your API with generated SDKs on demand. With
generated SDKs, you no longer need to generate code from Protobuf locally, and
thus no longer need for consumers to pull in Protobuf files or perform any
generation whatsoever.

The BSR Go module proxy implements the [GOPROXY protocol][goproxy] for [Buf
modules][modules] by generating packages on the fly&mdash;Go code stubs aren't
generated until you request them using `go get`. Once generated, they are cached,
and the cached assets are returned from subsequent requests.

## Using Go Modules

The key to consuming from the BSR Go module proxy is choosing the right **Go
module path**. The import path for generated Go code has this format:

import Syntax from "@site/src/components/Syntax";

<Syntax
    title="Go module path syntax"
    examples={["buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go"]}
    segments={[
        {label: "buf.build/gen/go", kind: "constant"},
        {separator: "/"},
        {label: "moduleOwner", kind: "variable", href: "/bsr/overview#modules"},
        {separator: "/"},
        {label: "moduleName", kind: "variable", href: "/bsr/overview#modules"},
        {separator: "/"},
        {label: "pluginOwner", kind: "variable", href: "#plugins"},
        {separator: "/"},
        {label: "pluginName", kind: "variable", href: "#plugins"}
    ]}
/>

In this example, `buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go`, the BSR generates
code for the [`bufbuild/eliza`](https://buf.build/bufbuild/eliza) module using
the [`bufbuild/connect-go`](https://buf.build/bufbuild/connect-go). plugin. This
package depends on `buf.build/gen/go/bufbuild/eliza/protocolbuffers/go` as well -
`connect-go` has a dependency on code generated by the
[`protocolbuffers/go`](https://buf.build/protocolbuffers/go) plugin, and remote packages
automatically include plugin dependencies!

## Installing packages {#go-install}

To generate the [`bufbuild/eliza`][eliza-module] Protobuf module using the
[`connect-go`][connect-go] plugin, you could install the generated code like
this:

```terminal
$ go get buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go
---
go: downloading buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go v1.1.0-20221108170037-30afbf7c670d.4
go: added buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go v1.1.0-20221108170037-30afbf7c670d.4
```

You can use _any_ plugin that generates Go, which can simplify Protobuf
workflows down to two steps:

1. `buf push` your [module][modules] to the BSR.
1. `go get` your generated Go module.

## Versions

By default, when you `go get` a [Buf module][modules], the BSR generates code
from the most recent [reference](../overview.mdx#referencing-a-module) for the
module. But you can also install a specific module version using `go get`'s `@`
syntax referencing an explicit version or a draft name.

### Latest

Get the generated asset for the latest version of the module.

```terminal
$ go get buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go@latest
```

### Commit

Get the generated asset for the module at a commit.

```terminal
$ go get buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go@dbde79169a014bd8b5bf8f89ac9b35c7
```

### Tag

Get the generated asset for the module at a tag.

```terminal
$ go get buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go@foo
```

### Draft

The BSR supports [draft commits][bsr-references]. This feature enables you to
push unreleased proto changes and consume generated code without affecting the
main branch.

```terminal
$ buf push --draft dev-draft
$ go get buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go@dev-draft
```

### Full Syntax

<Syntax
    title="Go module version syntax"
    examples={["v1.1.0-20221108170037-30afbf7c670d.4"]}
    segments={[
        {label: "pluginVersion", kind: "variable"},
        {separator: "-"},
        {label: "moduleTimestamp", kind: "variable"},
        {separator: "-"},
        {label: "moduleCommit", kind: "variable"},
        {separator: "."},
        {label: "pluginRevision", kind: "variable"}
    ]}
/>

With package versions (valid [semver][semver]):

- The version core is the plugin version **1.1.0**
- The semver pre-release version is composed of:
- module commit timestamp (YYYYMMDDHHMMSS) **20221108170037**
- module commit short name (12 characters) **30afbf7c670d**
- The final identifier is the plugin revision **4** for the plugin version

Most users will likely use `@latest`, but if you need to reference a package
version explicitly you can do so like this:

```terminal
$ go get buf.build/gen/go/bufbuild/eliza/bufbuild/connect-go@v1.1.0-20221108170037-30afbf7c670d.4
```


## Private modules {#private}

To generate Go code from private modules you'll need to make sure the Go tooling
is correctly configured. Begin by logging into the BSR:

```terminal
$ buf registry login
```

The `go` tool uses [`.netrc` credentials][netrc] if available, and you can use
`buf registry login` to add this to your `.netrc` file. You can obtain an API
token (password) from the [Settings page][settings].

```sh title="~/.netrc"
machine buf.build
        login <USERNAME>
        password <TOKEN>
```

import EnvVars from './_env-vars.mdx';

<EnvVars/>

## Available plugins {#plugins}

For a full list of supported plugins navigate to the [BSR plugins
page][bsr-plugins] and search for Go.

To learn more about how these plugins are packaged and distributed check out the
[bufbuild/plugins repository][bufbuild-plugins]. If you find a useful plugin
that should be added please [file an issue][bufbuild-plugins-issue]!

[go]: https://golang.org
[eliza-module]: https://buf.build/bufbuild/eliza
[connect]: https://connect.build
[connect-demo]: https://github.com/bufbuild/connect-demo
[connect-go]: https://buf.build/bufbuild/connect-go
[goproxy]: https://golang.org/ref/mod#goproxy-protocol
[modules]: ../overview.mdx#modules
[netrc]: https://golang.org/ref/mod#private-module-proxy-auth
[private]: https://golang.org/ref/mod#private-modules
[settings]: https://buf.build/settings/user
[semver]: https://semver.org
[bsr-references]: /bsr/overview#referencing-a-module
[bsr]: /bsr/overview
[bsr-plugins]: https://buf.build/plugins
[bufbuild-plugins]: https://github.com/bufbuild/plugins
[bufbuild-plugins-issue]: https://github.com/bufbuild/plugins/issues/new/choose
[javascript]: https://developer.mozilla.org/en-US/docs/Web/JavaScript
[modules]: /bsr/overview#modules
[typescript]: https://www.typescriptlang.org/
[go]: https://golang.org
